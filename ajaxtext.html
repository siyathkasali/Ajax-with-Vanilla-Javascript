<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ajax with Textfile</title>
</head>
<body>
    
<button id="button">Click here</button>
<div id="data"></div>

<script>
    //Ajax to fetch text

document.getElementById('button').addEventListener('click', getData);

function getData(){

//Creating a request 
var xhr = new XMLHttpRequest();
    //Opening a Connection
    xhr.open("GET", 'simple.txt', true);
    console.log("Ready State : " + xhr.readyState);

    // Optional loading (Like Gif)
    xhr.onprogress = ()=>{
        console.log("On progress : " + xhr.readyState );
    }

    xhr.onload = function(){
        if(this.status == 200){
            console.log("Ready State : " + this.readyState);
            document.getElementById('data').innerHTML = this.responseText;
        }
    }

        // Onreadystate - Old method 
        // xhr.onreadystatechange = function(){
        //     if(this.status == 200 && this.readyState == 4){
        //         document.getElementById('data').innerHTML = xhr.responseText;
        //     }
        // }

    xhr.onerror = ()=>{
        console.log("It's error");
    }

    // Sends request
    xhr.send();

}

    
</script>
</body>
</html>